{"version":3,"sources":["../../src/pages/modal/modal.module.ts","../../src/pages/modal/modal.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModalPage } from './modal';\n\n@NgModule({\n  declarations: [\n    ModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModalPage),\n  ],\n})\nexport class ModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modal.module.ts","import { Component, Input } from '@angular/core'; \nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular';\nimport { enlace, headers2 } from '../../api.component';\nimport { SqliteProvider } from './../../providers/sqlite/sqlite';\nimport { Http, Headers } from '@angular/http';\n\n@IonicPage()\n@Component({\n  selector: 'page-modal',\n  templateUrl: 'modal.html',\n  styles:['modal.css']\n})\n\nexport class ModalPage {\n\n  dato;\n  ip2;\n  token;\n  item;\n  @Input() avanceActual;\n  cantidad;\n\n  constructor(private navParams: NavParams, private view: ViewController, public alertCtrl: AlertController, public sqliteService: SqliteProvider, public http: Http) {\n\n    this.ip2 = this.sqliteService.ip2;\n    this.token = this.sqliteService.token;\n    this.item = navParams.data.item;\n    console.log(\"item: \"+this.item.cantidad);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ModalPage');\n    this.cantidad = this.item.cantidad;\n    this.iniciarInstalado();\n  }\n\n  closeModal(){\n    this.view.dismiss();\n  }\n\n  showPrompt() {\n\n\n\t\tconst prompt = this.alertCtrl.create({\n      title: 'Agregar',\n      message: 'Desea agregar el avance: '+this.dato,\n\t\t  buttons: [\n\t\t\t{\n\t\t\t  text: 'Cancelar',\n\t\t\t  handler: data => {\n          console.log('Saved clicked'+JSON.stringify(data));\n          this.closeModal();\n\t\t\t\tconsole.log('Cancel clicked');\n\t\t\t  }\n\t\t\t},\n\t\t\t{\n\t\t\t  text: 'Guardar',\n\t\t\t  handler: data => {\n        console.log('Saved clicked'+JSON.stringify(data));\n          \n        var url = enlace + \"agregarInstalado\";\n        var datas = {\n          descripcion: null,\n          cantidad: null,\n          unidad_medida: null,\n          total: this.dato,\n          tarea: this.sqliteService.GetTareaId(),\n          usuario: this.sqliteService.GerUserId(),\n          proyecto: this.sqliteService.GerProjectId(),\n          latitud: null,\n          longitud:null\n    \n        }\n        this.http.post(url, JSON.stringify(datas), { headers: headers2 }).subscribe(Response => {\n          var retorno = Response.json();\n\n          this.closeModal();\n          this.iniciarInstalado();\n        });\n\t\t\t  }\n\t\t\t}\n\t\t  ]\n\t\t});\n\t\tprompt.present();\n    }\n    \n    iniciarInstalado(){\n\t\t\n      var url = enlace + \"sumaInstalado\";\n      \n      var data ={\n        tarea: this.sqliteService.GetTareaId(),\n        proyecto: this.sqliteService.GerProjectId(),\n      }\n      \n      this.http.post(url, JSON.stringify(data), { headers: headers2 }).subscribe(Response => {\n        var respuesta = Response.json();\n        \n        respuesta.forEach(element =>{\n          element.TotalInstalado\n          this.avanceActual = element.TotalInstalado;\n          console.log(\"Avance Actual: \"+this.avanceActual);\n        })\n            \n      });\n        \n    }\n\n\n    onChangeUserValue() {\n      let userAux = this.dato;\n      \n  \n      var element = <HTMLInputElement>document.getElementById(\"btn-login\");\n  \n      if ((userAux != undefined) && (userAux != \"\")){\n        element.disabled = false;\n      }\n      else {\n        element.disabled = true;\n      }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal/modal.ts"],"sourceRoot":""}