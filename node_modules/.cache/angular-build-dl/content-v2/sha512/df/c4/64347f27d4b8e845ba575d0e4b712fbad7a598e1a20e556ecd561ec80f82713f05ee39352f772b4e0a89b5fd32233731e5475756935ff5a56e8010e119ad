{"version":3,"sources":["src/app/pages/avance-tarea/avance-tarea.page.html","src/app/pages/avance-tarea/avance-tarea.module.ts","src/app/pages/avance-tarea/avance-tarea.page.scss","src/app/pages/avance-tarea/avance-tarea.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n\\t\\t<ion-buttons slot=\\\"start\\\">\\n\\t\\t\\t\\t<ion-menu-button></ion-menu-button>\\n\\t\\t\\t  </ion-buttons>\\n    <ion-title style=\\\"width: 100%;\\n\\t\\theight: 100%;\\n\\t\\ttext-align: center;\\n\\t\\tpadding: unset\\\">\\n\\t\\t\\t<!-- <ion-icon style=\\\"font-size: 2.0em; margin-left:80%;\\\" ios=\\\"ios-attach\\\" md=\\\"md-add\\\" (click)=\\\"Open('photo')\\\"></ion-icon> -->\\n\\t\\t\\t<ion-icon style=\\\"font-size: 2.0em; margin-left:80%;\\\" ios=\\\"ios-attach\\\" md=\\\"md-add\\\" (click)=\\\"takePicturesCamera()\\\"></ion-icon>\\n\\t\\t</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n\\t\\t<ion-item *ngIf=\\\"registros == 0\\\">\\n\\t\\t\\t<div class=\\\"sec2\\\">\\n\\t\\t\\t\\t<p class=\\\"fontPrimaria\\\" style=\\\"padding:20px;margin: 0px;\\\">\\n\\t\\t\\t\\t\\tAun no hay fotos de Avance que mostrar\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t</div>\\n\\t\\t</ion-item>\\n\\n\\t\\t<ion-item style=\\\"padding: 20px;\\\" *ngFor=\\\"let item of todo | async\\\" >\\n\\t\\t\\t<!-- <div *ngIf=\\\"FBcode == item.identificador\\\"> -->\\n\\t\\t\\t\\t<ion-item >\\n\\t\\t\\t<ion-avatar item-start style=\\\"border-radius: 0;\\\" (click)=\\\"Open('D', item)\\\">\\n\\t\\t\\t\\t<img style=\\\"width: 200px; height: 150px; border: #FDC938 3px solid; border-radius: 0;\\\" [src]=\\\"item.url\\\">\\n\\t\\t\\t</ion-avatar>\\n\\t\\t\\t<ion-note item-end>\\n\\t\\t\\t\\t<!-- <h3 style=\\\"font-size: 20px; color: #404040;\\\"><b>Nombre:</b> {{ registro.photoName }}</h3>\\n\\t\\t\\t\\t<h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>Descripción:</b> {{ registro.description }}</h3>\\n\\t\\t\\t\\t<h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>Latitud:</b> {{ registro.geoLatitude }}</h3>\\n\\t\\t\\t\\t<h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>Longitud:</b> {{ registro.geoLongitude }}</h3> -->\\n\\t\\t\\t\\t<h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>¿Quién la subió?:</b> {{ item.nombre }}</h3>\\n\\t\\t\\t\\t<!-- <h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>Fecha - Hora:</b> {{ registro.creationDate }}</h3> -->\\n\\t\\t\\t</ion-note>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t<!-- </div> -->\\n\\t\\t\\n\\t\\t</ion-item>\\n\\t</ion-list>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-grid>\\n    <ion-row>\\n    <ion-col size=\\\"12\\\">\\n      <ion-col size=\\\"6\\\">\\n      <ion-icon class=\\\"icon-action-buttons\\\" name=\\\"camera\\\" (click)=\\\"takePicturesCamera()\\\" style=\\\"font-size: 30px;\\\"></ion-icon>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n      <ion-icon class=\\\"icon-action-buttons\\\" name=\\\"images\\\" (click)=\\\"takePicturesGallery()\\\" style=\\\"font-size: 30px;\\\"></ion-icon>\\n      </ion-col>\\n    </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  </ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AvanceTareaPage } from './avance-tarea.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AvanceTareaPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AvanceTareaPage]\n})\nexport class AvanceTareaPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2F2YW5jZS10YXJlYS9hdmFuY2UtdGFyZWEucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Http, Headers } from '@angular/http';\nimport { AngularFirestore,AngularFirestoreDocument,AngularFirestoreCollection  } from 'angularfire2/firestore';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { finalize } from 'rxjs/operators';\nimport { Products } from '../../models/products';\nimport { Observable } from 'rxjs/Observable';\nimport { ActivatedRoute } from '@angular/router';\nimport { Router } from '@angular/router';\nimport { SqliteProvider } from '../../services/sqlite/sqlite';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-avance-tarea',\n  templateUrl: './avance-tarea.page.html',\n  styleUrls: ['./avance-tarea.page.scss'],\n})\nexport class AvanceTareaPage implements OnInit {\n\n  item;\n\tevidencia;\n\tregistros: any[];\n\tip;\n\ttoken;\n\tip2 = \"http://198.50.116.250/service_network_API/public/index.php/api\";\n\ttask_id;\n\tAvaEvi: string;\n\tImage = [];\n\tbase64Image = [];\n\tFBcode;\n\tdatas;\n\tpublic Project;\n\tcollection: AngularFirestoreCollection<Products>;\n\ttodo: Observable<Products[]>;\n\tlatitud;\n  longitud;\n  items;\n\n\n  constructor(private camera: Camera, public http: Http, private route: ActivatedRoute, private router: Router, public sqliteService: SqliteProvider, private firestore: AngularFirestore, public navCtrl: NavController, private geolocation: Geolocation, private storage: AngularFireStorage,) { }\n\n  ngOnInit() {\n\n    this.items = this.route.snapshot.params;\n    /* this.item = this.items.data.item;\n\t\tthis.evidencia = this.items.data.evidencia;\n    this.FBcode = this.items.data.item; */\n    \n    let taskId = this.sqliteService.GetTareaId();\n\t\tthis.collection = this.firestore.collection(`fotosAvance/${taskId}/fotos`);\n\t\tthis.todo = this.collection.valueChanges();\n  }\n\n  LoadDatas() {\n\t\tthis.ip = this.sqliteService.ip;\n\t\tthis.token = this.sqliteService.token;\n\t\t//let url = \"\";\n\n\t\t//if (typeof this.evidencia !== \"undefined\")  {\n\t\t//url = this.ip + `/evidence_photo`;\n\t\t//url = this.ip + `/evidenceTask`;\n\t\tlet url = \"http://198.50.116.250/service_network_API/public/index.php/api/getPhotosByPojectId\";\n\t\tlet headers2 = new Headers();\n\n\t\theaders2.append('Content-Type', 'application/json');\n\t\theaders2.append('Access-Control-Allow-Origin', '*');\n\t\theaders2.append('Access-Control-Allow-Methods', 'POST, GET, OPTIONS, PUT');\n\t\theaders2.append('Content-Type', 'application/x-www-form-urlencoded');\n\t\theaders2.append('Authorization', 'Bearer ' + this.token);\n\n\t\t// let data = {\n\t\t//   idEvidence: this.evidencia.evidence_id,\n\t\t//   idTask: this.item.id\n\t\t// };\n\n\t\tlet ProjectId = this.sqliteService.GerProjectId();\n\t\tlet tipoFoto = this.sqliteService.GerTipoFoto();\n\n\t\tlet data = {\n\t\t\tproject_id: ProjectId,\n\t\t\ttask_id: this.items.tareaId,\n\t\t\tphoto_type_id: tipoFoto\n\t\t};\n\t\tconsole.log(\"data: \" + JSON.stringify(data));\n\t\tthis.http.post(url, JSON.stringify(data), { headers: headers2 }).subscribe(data => {\n\t\t\tthis.registros = data.json();\n\t\t\tconsole.log(\"Registros_1: \" + JSON.stringify(this.registros));\n\t\t\t//this.registros = Array.of(this.registros);\n\t\t\t//console.log(\"Registros_2: \" + JSON.stringify(this.registros));\n\t\t\t/* var registross = data.json(); */\n\t\t\t//this.registros = Array.of(this.registross);\n\t\t\t/* resultado.foreach(element =>{\n\t\t\t   this.registros = element.url;\n\t\t\t   this.registros = element.creation_date;\n\t\t\t   console.log(\"url: \"+element.url);\n\t\t\t   console.log(\"creation_date: \"+element.creation_date);\n\t\t\t}); */\n\t\t\t/* this.registros = Object.keys(registross).map(function(key) {\n\t\t\t  return [registross[key]];\n\t\t\t});\n\t\t\tconsole.log(\"Registros: \"+this.registros);\n\t\t  }); */\n\t\t\t/*  } \n\t\t\t else{\n\t\t\t   console.log(\"Entra a Avance\");\n\t\t \n\t\t\t   //url = this.ip2 + `/foto/${this.item.tareaId}`;\n\t\t\t   url = this.ip2 + `/getPhotosByPojectId`;\n\t\t \n\t\t\t   let headers2 = new Headers();\n\t\t \n\t\t\t   let ProjectId = this.sqliteService.GerProjectId();\n\t\t\t   let tipoFoto = this.sqliteService.GerTipoFoto();\n\t\t \n\t\t\t   let data = {\n\t\t\t\t project_id: ProjectId,\n\t\t\t\t task_id: this.item.tareaId,\n\t\t\t\t photo_type_id: tipoFoto\n\t\t\t   };\n\t\t \n\t\t \n\t\t\t   headers2.append('Accept','application/json');\n\t\t\t   headers2.append('content-type','application/json');\n\t\t\t   headers2.append('Authorization','Bearer '+this.token);\n\t\t\t   this.http.post(url, JSON.stringify(data), {headers: headers2}).subscribe(data => {\n\t\t\t\t this.registros = data.json();\n\t\t\t   });*/\n\t\t});\n\n\t\t// console.log(this.item);\n\t\t// console.log(data.json());\n\t}\n\n\tasync takePicturesCamera(){\n\t\tconst options: CameraOptions = {\n\t\t  quality: 100,\n\t\t  destinationType: this.camera.DestinationType.DATA_URL,\n\t\t  /* sourceType: this.camera.PictureSourceType.PHOTOLIBRARY, */\n\t\t  encodingType: this.camera.EncodingType.JPEG,\n\t\t  mediaType: this.camera.MediaType.PICTURE,\n\t\t  targetWidth: 1024,\n\t\t  targetHeight: 768,\n\t\t  saveToPhotoAlbum: true,\n\t\t   correctOrientation: true,\n\t\t   allowEdit: true,\n\t\t}\n\t  \n\t\tthis.geolocation.getCurrentPosition().then((resp) => {\n\t\t  console.log(\"Coordenadas 1: \"+resp.coords.latitude, resp.coords.longitude);\n\t\t  this.longitud = resp.coords.longitude;\n\t\t  this.latitud = resp.coords.latitude;\n\t\t }).catch((error) => {\n\t\t   console.log('Error getting location', error);\n\t\t });\n\t\t \n\t  \n\t\tconst result = await this.camera.getPicture(options); \n\t\t  const image = `data:image/jpeg;base64,${result}`;\n\t\t  const a = Date();\n\t\t  \n\t  \n\t\t  let tareaid = this.sqliteService.GetTareaId();\n\t\t  const idd = Math.random().toString(36).substring(2);\n\t\t  /* const file = this.Image[0].image; */\n\t\t  const file = `data:image/jpeg;base64,${result}`;\n\t\t  const filePath = `fotosAvance/${tareaid}/${idd}`;\n\t\t\t  /* const ref = this.storage.ref(filePath);\n\t\t  const task = this.storage.upload(filePath, file); */\n\t\t  const pictures = this.storage.ref(filePath);\n\t\t  var task = pictures.putString(image, 'data_url');\n\t\t  pictures.getDownloadURL().subscribe(ur =>{\n\t\t\tconsole.log(\"nueva funcion: \"+ur);\n\t\t  } );\n\t\t  \n\t\t  console.log(\"a punto de entrar\");\n\t\t  var tar = parseFloat(tareaid);\n\t\t  task.snapshotChanges().pipe( finalize(() => pictures.getDownloadURL().subscribe(\n\t\t\t\t  url =>{\n\t\t\t\t\t  this.datas = {\n\t\t\t\t\t\t  key: idd,\n\t\t\t\t\t\t  nombre: \"Foto de avance de la tarea: \"+this.item.nombreTarea+\". Foto desde la cámara\" ,\n\t\t\t\t\t\t  url: url,\n\t\t\t\t\t\t  idTarea: tar,\n\t\t\t\t\t\t  usuario: this.sqliteService.GerUserId(),\n\t\t\t\t\t\t  latitud: this.latitud,\n\t\t\t\t\t\t  longitud: this.longitud\n\t\t\t\t\t  } \n\t\t\t\t\t  console.log(JSON.stringify(this.datas));\n\t\t\t\t\t  this.firestore.collection('fotosAvance').doc(`${tar}`).collection('fotos').add(this.datas);\n\t\t\t\t  }\n\t\t\t  ))).subscribe();\n\t  \n\t\t}\n\n\n\t\tasync takePicturesGallery(){\n\t\t\tconst options: CameraOptions = {\n\t\t\t\tquality: 100,\n\t\t\t\tdestinationType: this.camera.DestinationType.DATA_URL,\n\t\t\t\tsourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n\t\t\t\tencodingType: this.camera.EncodingType.JPEG,\n\t\t\t\tmediaType: this.camera.MediaType.PICTURE,\n\t\t\t\ttargetWidth: 1024,\n\t\t\t\ttargetHeight: 768,\n\t\t\t\tsaveToPhotoAlbum: true,\n\t\t\t\t correctOrientation: true,\n\t\t\t\t allowEdit: true,\n\t\t\t  }\n\t\t\t\n\t\t\t  this.geolocation.getCurrentPosition().then((resp) => {\n\t\t\t\tconsole.log(\"Coordenadas 1: \"+resp.coords.latitude, resp.coords.longitude);\n\t\t\t\tthis.latitud = resp.coords.latitude,\n\t\t\t\tthis.longitud = resp.coords.longitude\n\t\t\t   }).catch((error) => {\n\t\t\t\t console.log('Error getting location', error);\n\t\t\t   });\n\t\t\t   \n\t\t\t\n\t\t\t  const result = await this.camera.getPicture(options); \n\t\t\t\tconst image = `data:image/jpeg;base64,${result}`;\n\t\t\t\tconst a = Date();\n\t\t\t\t\n\t\t\t\n\t\t\t\tlet tareaid = this.sqliteService.GetTareaId();\n\t\t\t\tconst idd = Math.random().toString(36).substring(2);\n\t\t\t\t/* const file = this.Image[0].image; */\n\t\t\t\tconst file = `data:image/jpeg;base64,${result}`;\n\t\t\t\tconst filePath = `fotosAvance/${tareaid}/${idd}`;\n\t\t\t\t\t/* const ref = this.storage.ref(filePath);\n\t\t\t\tconst task = this.storage.upload(filePath, file); */\n\t\t\t\tconst pictures = this.storage.ref(filePath);\n\t\t\t\tvar task = pictures.putString(image, 'data_url');\n\t\t\t\tpictures.getDownloadURL().subscribe(ur =>{\n\t\t\t\t  console.log(\"nueva funcion: \"+ur);\n\t\t\t\t} );\n\t\t\t\t\n\t\t\t\tconsole.log(\"a punto de entrar\");\n\t\t\t\tvar tar = parseFloat(tareaid);\n\t\t\t\ttask.snapshotChanges().pipe( finalize(() => pictures.getDownloadURL().subscribe(\n\t\t\t\t\t\turl =>{\n\t\t\t\t\t\t\tthis.datas = {\n\t\t\t\t\t\t\t\tkey: idd,\n\t\t\t\t\t\t\t\tnombre:\"Foto de avance de la tarea: \"+this.item.nombreTarea+\". Foto desde la galería\",\n\t\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\t\tidTarea: tar,\n\t\t\t\t\t\t\t\tlatitud: this.latitud,\n\t\t\t\t\t\t\t\tlongitud: this.longitud\n\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\tconsole.log(JSON.stringify(this.datas));\n\t\t\t\t\t\t\tthis.firestore.collection('fotosAvance').doc(`${tar}`).collection('fotos').add(this.datas);\n\t\t\t\t\t\t}\n\t\t\t\t\t))).subscribe();\n\t\t\t\n\t\t  }\n\n\n\tOpen(page: string, registro: string) {\n\t\tlet item = this.items;\n\t\t\n\n\t\tswitch (page) {\n\t\t\tcase \"photo\": {\n\t\t\t\t/* this.navCtrl.push(NuevoregistroPage, { item: item }); */\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"photoGallery\": {\n\t\t\t\t/* this.navCtrl.push(Nuevoregistro2Page, { item: item }); */\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"D\": {\n\t\t\t\tthis.navCtrl.navigateForward(['/menu/first/detalle-foto-avance', registro ]);\n\t\t\t\t//this.router.navigate(['/menu/first/detalle-foto-avance' ,registro]);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n}\n"],"sourceRoot":"webpack:///"}