{"version":3,"sources":["src/app/components/popover/popover.component.html","src/app/pages/fotos-evidencia-tarea/fotos-evidencia-tarea.page.html","src/app/components/popover/popover.component.ts","src/app/pages/fotos-evidencia-tarea/fotos-evidencia-tarea.module.ts","src/app/pages/fotos-evidencia-tarea/fotos-evidencia-tarea.page.scss","src/app/pages/fotos-evidencia-tarea/fotos-evidencia-tarea.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<p>\\n  popover works!\\n</p>\\n\"","export default \"<ion-header>\\n\\t\\t<ion-toolbar color=\\\"primary\\\" mode=\\\"ios\\\">\\n      <ion-buttons slot=\\\"start\\\">\\n\\t\\t  <ion-menu-button ></ion-menu-button>\\n\\t\\t  <ion-icon icon=\\\"../../assets/icon/arrow-left-solid.svg\\\" (click)=\\\"BotonRegresar()\\\"></ion-icon>\\n        </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n\\t\\t<!-- <ion-item *ngIf=\\\"registros == 0; else elseBlock\\\">\\n\\t\\t\\t<div class=\\\"sec2\\\">\\n\\t\\t\\t\\t<p class=\\\"fontPrimaria\\\" style=\\\"padding:20px;margin: 0px;\\\">\\n\\t\\t\\t\\t\\tAun no hay fotos de Evidencia que mostrar\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t</div>\\n\\t\\t</ion-item> -->\\n\\n\\t\\t<!-- <ng-template #elseBlock> -->\\n\\t\\t<ion-item style=\\\"padding: 20px;\\\" *ngFor=\\\"let item of todo | async\\\" >\\n\\t\\t\\t<div *ngIf=\\\"FBcode == item.identificador\\\">\\n\\t\\t\\t\\t<ion-item >\\n\\t\\t\\t<ion-avatar item-start style=\\\"border-radius: 0;\\\" (click)=\\\"Open('D', item.url)\\\">\\n\\t\\t\\t\\t<img style=\\\"width: 200px; height: 150px; border: #FDC938 3px solid; border-radius: 0;\\\" [src]=\\\"item.url\\\">\\n\\t\\t\\t</ion-avatar>\\n\\t\\t\\t<ion-note item-end>\\n\\t\\t\\t\\t<!-- <h3 style=\\\"font-size: 20px; color: #404040;\\\"><b>Nombre:</b> {{ registro.photoName }}</h3>\\n\\t\\t\\t\\t<h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>Descripción:</b> {{ registro.description }}</h3>\\n\\t\\t\\t\\t<h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>Latitud:</b> {{ registro.geoLatitude }}</h3>\\n\\t\\t\\t\\t<h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>Longitud:</b> {{ registro.geoLongitude }}</h3> -->\\n\\t\\t\\t\\t<h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>¿Quién la subió?:</b> {{ item.nombre }}</h3>\\n\\t\\t\\t\\t<!-- <h3 style=\\\"font-size: 12px; color: #404040;\\\"><b>Fecha - Hora:</b> {{ registro.creationDate }}</h3> -->\\n\\t\\t\\t</ion-note>\\n\\t\\t\\t\\t</ion-item>\\n\\t\\t</div>\\n\\t\\t\\n\\t\\t</ion-item>\\n\\t\\t<!-- </ng-template> -->\\n\\t</ion-list>\\n</ion-content>\\n\\n<ion-footer>\\n\\t<ion-grid>\\n\\t  <ion-row>\\n\\t\\t<ion-col size=\\\"12\\\">\\n\\t\\t  <ion-col size=\\\"6\\\">\\n\\t\\t\\t<ion-icon class=\\\"icon-action-buttons\\\" name=\\\"camera\\\" (click)=\\\"takePicturesCamera()\\\" style=\\\"font-size: 30px;\\\"></ion-icon>\\n\\t\\t  </ion-col>\\n\\t\\t  <ion-col size=\\\"6\\\">\\n\\t\\t\\t<ion-icon class=\\\"icon-action-buttons\\\" name=\\\"images\\\" (click)=\\\"takePicturesGallery()\\\" style=\\\"font-size: 30px;\\\"></ion-icon>\\n\\t\\t  </ion-col>\\n\\t\\t</ion-col>\\n\\t  </ion-row>\\n\\t</ion-grid>\\n  </ion-footer>\\n\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-popover',\n  templateUrl: './popover.component.html',\n  /* styleUrls: ['./popover.component.scss'], */\n})\nexport class PopoverComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FotosEvidenciaTareaPage } from './fotos-evidencia-tarea.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FotosEvidenciaTareaPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [FotosEvidenciaTareaPage]\n})\nexport class FotosEvidenciaTareaPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ZvdG9zLWV2aWRlbmNpYS10YXJlYS9mb3Rvcy1ldmlkZW5jaWEtdGFyZWEucGFnZS5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { SqliteProvider } from '../../services/sqlite/sqlite';\nimport { Products } from '../../models/products';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { Observable } from 'rxjs/Observable';\nimport { AngularFirestore,AngularFirestoreDocument,AngularFirestoreCollection  } from 'angularfire2/firestore';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { Http, Headers } from '@angular/http';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavController, PopoverController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { PopoverComponent } from '../../components/popover/popover.component';\nimport { finalize } from 'rxjs/operators';\nimport {Location} from '@angular/common';\n\n\n@Component({\n  selector: 'app-fotos-evidencia-tarea',\n  templateUrl: './fotos-evidencia-tarea.page.html',\n  styleUrls: ['./fotos-evidencia-tarea.page.scss'],\n})\nexport class FotosEvidenciaTareaPage implements OnInit {\n\n  base64Image = [];\n  Image = [];\n\n  item;\n\tevidencia;\n\tregistros: any[];\n\tip2;\n\ttoken;\n\t//ip2 = \"http://198.50.116.250/service_network_API/public/index.php/api\";\n  task_id;\n  norma;\n  FBcode;\n  AvaEvi: string;\n  public Project;\n  datas: Products;\n  latitud;\n  longitud;\n  collection: AngularFirestoreCollection<Products>;\n  todo: Observable<Products[]>;\n  tareas;\n  url;\n\n\n  constructor(private camera: Camera, public http: Http, private route: ActivatedRoute, private router: Router, public sqliteService: SqliteProvider, private firestore: AngularFirestore, public navCtrl: NavController, private geolocation: Geolocation, private storage: AngularFireStorage, public popoverController: PopoverController, private _location: Location) { \n\n   /*  this.item = this.route.queryParams.subscribe(params =>{\n      console.log(\"params\",params);\n    }); */\n\n  }\n\n  ngOnInit() {\n\n     this.item = this.route.snapshot.paramMap.getAll('task');\n     this.norma = this.route.snapshot.paramMap.get('norma');\n     this.FBcode = this.route.snapshot.paramMap.get('item');\n     this.tareas = this.route.snapshot.paramMap.get('items');\n     this.evidencia = this.route.snapshot.paramMap.get('evidencia');\n     var policy_type_id = this.route.snapshot.paramMap.get('policy_type_id');\n     var policy_id = this.route.snapshot.paramMap.get('policy_id');\n     this. url = this.route.snapshot.paramMap.get('url');\n     var policy_specification_id = this.route.snapshot.paramMap.get('policy_specification_id');\n     this.sqliteService.idTipoNorma = this.item.policy_type_id\n     this.sqliteService.idNorma = this.item.policy_id;\n     this.sqliteService.specificacionNorma = this.item.policy_specification_id;\n \n     console.log(\"id tipo de norma \"+policy_type_id);\n       console.log(\"id norma \"+policy_id);\n       console.log(\"id de especificacion de norma \"+policy_specification_id);\n       console.log(\"id de especificacion de norma \"+this.item);\n       console.log(\"desconocido \"+this.FBcode);\n       console.log(\"desconocido \"+this.tareas);\n\n       this.LoadData();\n       \n  }\n\n  async presentPopover(ev: any) {\n    const popover = await this.popoverController.create({\n      component: PopoverComponent,\n      event: ev,\n      translucent: true\n    });\n    return await popover.present();\n  }\n\n  LoadData() {\n    /* this.ip2 = this.sqliteService.ip2;\n    this.token = this.sqliteService.token; */\n    //let url = \"\";\n  \n    //if (typeof this.evidencia !== \"undefined\")  {\n    //url = this.ip + `/evidence_photo`;\n    //url = this.ip + `/evidenceTask`;\n    //let url = \"http://198.50.116.250/service_network_API/public/index.php/api/photosByPolicy\";\n    /* let headers2 = new Headers();\n    let url = this.ip2+\"photosByPolicy\";\n  \n    headers2.append('Content-Type', 'application/json');\n    headers2.append('Access-Control-Allow-Origin', '*');\n    headers2.append('Access-Control-Allow-Methods', 'POST, GET, OPTIONS, PUT');\n    headers2.append('Content-Type', 'application/x-www-form-urlencoded');\n    headers2.append('Authorization', 'Bearer ' + this.token); */\n  \n    // let data = {\n    //   idEvidence: this.evidencia.evidence_id,\n    //   idTask: this.item.id\n    // };\n  \n    let ProjectId = this.sqliteService.GerProjectId();\n    let tipoFoto = this.sqliteService.GerTipoFoto();\n    let idTipoNorma = this.sqliteService.GeridTipoNorma();\n      let idNorma = this.sqliteService.GeridNorma();\n      let specificacionNorma = this.sqliteService.GerspecificacionNorma();\n      let taskId = this.sqliteService.GetTareaId();\n    \n  \n    /* let data = {\n      policy_types_id:idTipoNorma,\n      policy_id: idNorma,\n      policy_specification_id:specificacionNorma,\n      task_id: taskId\n    }; */\n  \n    //console.log(\"data: \" + JSON.stringify(data));\n  \n    /* Firebase */\n    \n    this.collection = this.firestore.collection(`fotosEvidencia/${taskId}/fotos`, ref => ref.where(\"identificador\", \"==\", this.FBcode))/* .doc(`${this.idTarea}`).collection(`${this.firebaseId}`) */;\n              this.todo = this.collection.valueChanges();\n    /* Firebase */\n  \n    //this.http.post(url, JSON.stringify(data), { headers: headers2 }).subscribe(data => {\n      //this.registros = data.json();\n      //console.log(\"Registros_1: \" + JSON.stringify(this.registros));\n      //this.registros = Array.of(this.registros);\n      //console.log(\"Registros_2: \" + JSON.stringify(this.registros));\n      /* var registross = data.json(); */\n      //this.registros = Array.of(this.registross);\n      /* resultado.foreach(element =>{\n         this.registros = element.url;\n         this.registros = element.creation_date;\n         console.log(\"url: \"+element.url);\n         console.log(\"creation_date: \"+element.creation_date);\n      }); */\n      /* this.registros = Object.keys(registross).map(function(key) {\n        return [registross[key]];\n      });\n      console.log(\"Registros: \"+this.registros);\n      }); */\n      /*  } \n       else{\n         console.log(\"Entra a Avance\");\n     \n         //url = this.ip2 + `/foto/${this.item.tareaId}`;\n         url = this.ip2 + `/getPhotosByPojectId`;\n     \n         let headers2 = new Headers();\n     \n         let ProjectId = this.sqliteService.GerProjectId();\n         let tipoFoto = this.sqliteService.GerTipoFoto();\n     \n         let data = {\n         project_id: ProjectId,\n         task_id: this.item.tareaId,\n         photo_type_id: tipoFoto\n         };\n     \n     \n         headers2.append('Accept','application/json');\n         headers2.append('content-type','application/json');\n         headers2.append('Authorization','Bearer '+this.token);\n         this.http.post(url, JSON.stringify(data), {headers: headers2}).subscribe(data => {\n         this.registros = data.json();\n         });*/\n    //});\n  \n    // console.log(this.item);\n    // console.log(data.json());\n  }\n\n  async takePicturesCamera(){\n    const options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      /* sourceType: this.camera.PictureSourceType.PHOTOLIBRARY, */\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n      targetWidth: 1024,\n      targetHeight: 768,\n      saveToPhotoAlbum: true,\n       correctOrientation: true\n    }\n  \n    this.geolocation.getCurrentPosition().then((resp) => {\n      console.log(\"Coordenadas 1: \"+resp.coords.latitude, resp.coords.longitude);\n      this.latitud = resp.coords.latitude;\n      this.longitud = resp.coords.longitude;\n      console.log(this.latitud, this.longitud)\n     }).catch((error) => {\n       console.log('Error getting location', error);\n     });\n  \n    const result = await this.camera.getPicture(options); \n      const image = `data:image/jpeg;base64,${result}`;\n      const a = Date();\n      \n  \n      let tareaid = this.sqliteService.GetTareaId();\n      const idd = Math.random().toString(36).substring(2);\n      /* const file = this.Image[0].image; */\n      const file = `data:image/jpeg;base64,${result}`;\n      const filePath = `fotosEvidencia/${tareaid}/${this.FBcode}/${idd}`;\n      /* const ref = this.storage.ref(filePath);\n      const task = this.storage.upload(filePath, file); */\n      const pictures = this.storage.ref(filePath);\n      var task = pictures.putString(image, 'data_url');\n      pictures.getDownloadURL().subscribe(ur =>{\n        console.log(\"nueva funcion: \"+ur);\n      } );\n      \n      console.log(\"a punto de entrar\");\n      var tar = parseFloat(tareaid);\n      task.snapshotChanges().pipe( finalize(() => pictures.getDownloadURL().subscribe(\n        url =>{\n          this.datas = {\n            key: idd,\n            identificador: this.FBcode,\n            nombre:\"Foto de evidencia de la tarea: \"+this.tareas.nombreTarea+\". Foto desde la cámara\",\n            url: url,\n            idTarea: tar,\n            latitud: this.latitud,\n            longitud: this.longitud\n          } \n          console.log(JSON.stringify(this.datas));\n          this.firestore.collection('fotosEvidencia').doc(`${tar}`).collection('fotos').add(this.datas);\n        }\n      ))).subscribe();\n  \n    }\n\n    async takePicturesGallery(){\n      const options: CameraOptions = {\n        quality: 100,\n        destinationType: this.camera.DestinationType.DATA_URL,\n        sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n        encodingType: this.camera.EncodingType.JPEG,\n        mediaType: this.camera.MediaType.PICTURE,\n        targetWidth: 1024,\n        targetHeight: 768,\n        saveToPhotoAlbum: true,\n         correctOrientation: true,\n         allowEdit: true,\n      }\n    \n      this.geolocation.getCurrentPosition().then((resp) => {\n        console.log(\"Coordenadas 1: \"+resp.coords.latitude, resp.coords.longitude);\n        this.latitud = resp.coords.latitude;\n        this.longitud = resp.coords.longitude;\n       }).catch((error) => {\n         console.log('Error getting location', error);\n       });\n       \n       /* let watch = this.geolocation.watchPosition();\n       watch.subscribe((data) => {\n         console.log(\"Coordenadas 2: \"+data.coords.latitude, data.coords.longitude);\n        // data can be a set of coordinates, or an error (if an error occurred).\n        \n       }); */\n    \n      const result = await this.camera.getPicture(options); \n        const image = `data:image/jpeg;base64,${result}`;\n        const a = Date();\n        \n    \n        let tareaid = this.sqliteService.GetTareaId();\n        const idd = Math.random().toString(36).substring(2);\n        /* const file = this.Image[0].image; */\n        const file = `data:image/jpeg;base64,${result}`;\n        const filePath = `fotosEvidencia/${tareaid}/${this.FBcode}/${idd}`;\n        /* const ref = this.storage.ref(filePath);\n        const task = this.storage.upload(filePath, file); */\n        \n  \n  \n        const pictures = this.storage.ref(filePath);\n        var task = pictures.putString(image, 'data_url');\n        pictures.getDownloadURL().subscribe(ur =>{\n          console.log(\"nueva funcion: \"+ur);\n        } );\n        \n        console.log(\"a punto de entrar\");\n        var tar = parseFloat(tareaid);\n        task.snapshotChanges().pipe( finalize(() => pictures.getDownloadURL().subscribe(\n          url =>{\n            this.datas = {\n              key: idd,\n              identificador: this.FBcode,\n            nombre:\"Foto de evidencia de la tarea: \"+this.tareas.nombreTarea+\". Foto desde la galería\",\n            url: url,\n            idTarea: tar,\n            latitud: this.latitud,\n            longitud: this.longitud\n            } \n            console.log(JSON.stringify(this.datas));\n            this.firestore.collection('fotosEvidencia').doc(`${tar}`).collection('fotos').add(this.datas);\n          }\n        ))).subscribe();\n    }\n\n    BotonRegresar(){\n      this._location.back();\n      console.log(\"regresar\");\n    }\n\n     Open(page: string, registro: string){\n      let item = this.item;\n      \n      console.log(\"Selected Item\", registro);\n      console.log(page);\n      switch(page) { \n        /* case \"photo\": {\n          this.navCtrl.push(NuevoregistroevidenciaPage, { item: item });\n          break;\n        }\n        case \"photoGallery\": {\n          this.navCtrl.push(Nuevoregistroevidencia2Page, { item: item });\n          break;\n        } */\n        case \"D\": {\n          this.router.navigate(['/menu/first/detalle-fotos-evidencia-tarea',{registro: registro, url: this.url, item:this.item}]);\n          /* this.navCtrl.navigateForward(['/menu/first/detalle-fotos-evidencia-tarea',{registro: registro, url: this.url, item:this.item}]); */\n          break;\n        }\n      }\n    }\n\n}\n"],"sourceRoot":"webpack:///"}